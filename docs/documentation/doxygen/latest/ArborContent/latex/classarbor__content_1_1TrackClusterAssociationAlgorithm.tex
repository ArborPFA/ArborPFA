\section{arbor\+\_\+content\+:\+:Track\+Cluster\+Association\+Algorithm Class Reference}
\label{classarbor__content_1_1TrackClusterAssociationAlgorithm}\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}


\doxyref{Track\+Cluster\+Association\+Algorithm}{p.}{classarbor__content_1_1TrackClusterAssociationAlgorithm} class.  




{\ttfamily \#include $<$Track\+Cluster\+Association\+Algorithm.\+h$>$}

Inheritance diagram for arbor\+\_\+content\+:\+:Track\+Cluster\+Association\+Algorithm\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classarbor__content_1_1TrackClusterAssociationAlgorithm}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct {\bf Association\+Constraints}
\begin{DoxyCompactList}\small\item\em \doxyref{Association\+Constraints}{p.}{structarbor__content_1_1TrackClusterAssociationAlgorithm_1_1AssociationConstraints} struct. \end{DoxyCompactList}\item 
class {\bf Factory}
\begin{DoxyCompactList}\small\item\em \doxyref{Factory}{p.}{classarbor__content_1_1TrackClusterAssociationAlgorithm_1_1Factory} class for instantiating algorithm. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::vector\\*
$<$ {\bf Association\+Constraints} $>$ {\bf Association\+Constraints\+Vector}
\item 
typedef std\+::map$<$ const \\*
pandora\+::\+Track \\*
$\ast$, {\bf Association\+Constraints\+Vector} $>$ {\bf Association\+Constraints\+Map}
\item 
typedef std\+::map$<$ const \\*
pandora\+::\+Track $\ast$, const \\*
pandora\+::\+Cluster $\ast$ $>$ {\bf Association\+Map}
\item 
typedef std\+::map$<$ const \\*
pandora\+::\+Cluster $\ast$, const \\*
pandora\+::\+Track $\ast$ $>$ {\bf Multi\+Association\+Map}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
pandora\+::\+Status\+Code {\bf Run} ()
\item 
pandora\+::\+Status\+Code {\bf Read\+Settings} (const pandora\+::\+Ti\+Xml\+Handle xml\+Handle)
\item 
pandora\+::\+Status\+Code {\bf Extract\+Association\+Lists} (pandora\+::\+Cluster\+List \&cluster\+List, pandora\+::\+Track\+List \&track\+List)
\begin{DoxyCompactList}\small\item\em Extract the cluster and track lists eligible for track-\/cluster associations. \end{DoxyCompactList}\item 
pandora\+::\+Status\+Code {\bf Build\+Possible\+Associations} (const pandora\+::\+Cluster\+List \&cluster\+List, const pandora\+::\+Track\+List \&track\+List, {\bf Association\+Map} \&association\+Map)
\begin{DoxyCompactList}\small\item\em Build the possible track-\/cluster associations. \end{DoxyCompactList}\item 
pandora\+::\+Status\+Code {\bf Perform\+Associations} (const {\bf Association\+Map} \&association\+Map)
\begin{DoxyCompactList}\small\item\em Perform the track-\/cluster association. \end{DoxyCompactList}\item 
pandora\+::\+Status\+Code {\bf Compute\+Inner\+Centroid} (const pandora\+::\+Cluster $\ast$const p\+Cluster, const pandora\+::\+Track $\ast$const p\+Track, pandora\+::\+Cartesian\+Vector \&inner\+Centroid) const 
\item 
bool {\bf Passes\+Initial\+Cuts} (const pandora\+::\+Cluster $\ast$const p\+Cluster, const pandora\+::\+Track $\ast$const p\+Track) const 
\begin{DoxyCompactList}\small\item\em Whether the track-\/cluster pair passes simple cuts for a possible association. \end{DoxyCompactList}\item 
pandora\+::\+Status\+Code {\bf Calculate\+Association\+Constraints} (const pandora\+::\+Cluster $\ast$const p\+Cluster, const pandora\+::\+Track $\ast$const p\+Track, {\bf Association\+Constraints} \&constraints)
\begin{DoxyCompactList}\small\item\em Calculate the track-\/cluster association constraints for a possible association. \end{DoxyCompactList}\item 
bool {\bf Fit\+Constraints} (const {\bf Association\+Constraints} \&constraints) const 
\begin{DoxyCompactList}\small\item\em Whether the set of constraints passes the final cuts for an association. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool {\bf Sort\+By\+Best\+Compatibility} (const {\bf Association\+Constraints} \&lhs, const {\bf Association\+Constraints} \&rhs)
\begin{DoxyCompactList}\small\item\em Sort association constraints by compatibility (std\+::sort) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
unsigned int {\bf m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer}
\begin{DoxyCompactList}\small\item\em The maximum cluster inner pseudo layer cut. \end{DoxyCompactList}\item 
unsigned int {\bf m\+\_\+n\+First\+Cluster\+Pseudo\+Layer}
\begin{DoxyCompactList}\small\item\em The number of cluster pseudo layers for the inner centroid evaluation. \end{DoxyCompactList}\item 
float {\bf m\+\_\+max\+Distance\+To\+Helix}
\begin{DoxyCompactList}\small\item\em The maximum distance between a track helix and the cluster inner centroid. \end{DoxyCompactList}\item 
float {\bf m\+\_\+max\+Track\+Cluster\+Angle}
\begin{DoxyCompactList}\small\item\em The maximum angle between the track projection and the cluster inner centroid. \end{DoxyCompactList}\item 
bool {\bf m\+\_\+allow\+Multi\+Associations}
\begin{DoxyCompactList}\small\item\em Whether to allow multi track associations for a single cluster. \end{DoxyCompactList}\item 
bool {\bf m\+\_\+use\+Energy\+Compatibility}
\begin{DoxyCompactList}\small\item\em Whether to use energy information for association. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{Track\+Cluster\+Association\+Algorithm}{p.}{classarbor__content_1_1TrackClusterAssociationAlgorithm} class. 

Definition at line 40 of file Track\+Cluster\+Association\+Algorithm.\+h.



\subsection{Member Typedef Documentation}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Association\+Constraints\+Map@{Association\+Constraints\+Map}}
\index{Association\+Constraints\+Map@{Association\+Constraints\+Map}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Association\+Constraints\+Map}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$const pandora\+::\+Track$\ast$, {\bf Association\+Constraints\+Vector}$>$ {\bf arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+Map}\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a76414832a6491764ac9d11ed3eccf73d}


Definition at line 69 of file Track\+Cluster\+Association\+Algorithm.\+h.

\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Association\+Constraints\+Vector@{Association\+Constraints\+Vector}}
\index{Association\+Constraints\+Vector@{Association\+Constraints\+Vector}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Association\+Constraints\+Vector}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<${\bf Association\+Constraints}$>$ {\bf arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+Vector}\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_af8acdfaa3660075693c5c6697ba8ce48}


Definition at line 68 of file Track\+Cluster\+Association\+Algorithm.\+h.

\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Association\+Map@{Association\+Map}}
\index{Association\+Map@{Association\+Map}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Association\+Map}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$const pandora\+::\+Track$\ast$, const pandora\+::\+Cluster$\ast$$>$ {\bf arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Map}\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_ac76d8551dd4e6a58b580227db802faa2}


Definition at line 70 of file Track\+Cluster\+Association\+Algorithm.\+h.

\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Multi\+Association\+Map@{Multi\+Association\+Map}}
\index{Multi\+Association\+Map@{Multi\+Association\+Map}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Multi\+Association\+Map}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$const pandora\+::\+Cluster$\ast$, const pandora\+::\+Track$\ast$$>$ {\bf arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Multi\+Association\+Map}\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a52e8c8873d490777089698ea6b1fc51a}


Definition at line 71 of file Track\+Cluster\+Association\+Algorithm.\+h.



\subsection{Member Function Documentation}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Build\+Possible\+Associations@{Build\+Possible\+Associations}}
\index{Build\+Possible\+Associations@{Build\+Possible\+Associations}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Build\+Possible\+Associations}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Build\+Possible\+Associations (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Cluster\+List \&}]{cluster\+List, }
\item[{const pandora\+::\+Track\+List \&}]{track\+List, }
\item[{{\bf Association\+Map} \&}]{association\+Map}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_acb4e64ff69c1d0c1499cb7d8b5d948b8}


Build the possible track-\/cluster associations. 


\begin{DoxyParams}{Parameters}
{\em cluster\+List} & the input cluster list \\
\hline
{\em track\+List} & the input track list \\
\hline
{\em association\+Map} & the association map to receive \\
\hline
\end{DoxyParams}


Definition at line 108 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References Calculate\+Association\+Constraints(), Fit\+Constraints(), arbor\+\_\+content\+::\+Recluster\+Helper\+::\+Get\+Track\+Cluster\+Compatibility(), m\+\_\+allow\+Multi\+Associations, arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+compatibility, and Passes\+Initial\+Cuts().



Referenced by Run().


\begin{DoxyCode}
110   \{
111     AssociationConstraintsMap contraintsMap;
112     MultiAssociationMap multiAssociationMap;
113 
114     \textcolor{keywordflow}{for}(pandora::TrackList::const\_iterator trackIter = trackList.begin() , trackEndIter = trackList.end() ;
115         trackEndIter != trackIter ; ++trackIter)
116     \{
117       \textcolor{keyword}{const} pandora::Track *\textcolor{keyword}{const} pTrack = *trackIter;
118 
119       \textcolor{keyword}{const} pandora::Cluster *pBestCluster = NULL;
120       \textcolor{keywordtype}{float} bestCompatibility(std::numeric\_limits<float>::max());
121       AssociationConstraints bestConstraints;
122 
123       \textcolor{keywordflow}{for}(pandora::ClusterList::const\_iterator iter = clusterList.begin() , endIter = clusterList.end() ;
124           endIter != iter ; ++iter)
125       \{
126         \textcolor{keyword}{const} pandora::Cluster *\textcolor{keyword}{const} pCluster = *iter;
127 
128         \textcolor{keywordflow}{if}( ! this->PassesInitialCuts(pCluster, pTrack) )
129           \textcolor{keywordflow}{continue};
130 
131         AssociationConstraints constraints;
132         PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, this->
      CalculateAssociationConstraints(pCluster, pTrack, constraints));
133 
134         \textcolor{keywordflow}{if}( ! this->FitConstraints(constraints) )
135           \textcolor{keywordflow}{continue};
136 
137         \textcolor{keywordflow}{if}(constraints.m\_compatibility < bestCompatibility)
138         \{
139           bestCompatibility = constraints.m\_compatibility;
140           bestConstraints = constraints;
141           pBestCluster = pCluster;
142         \}
143       \}
144 
145       \textcolor{keywordflow}{if}(NULL != pBestCluster)
146       \{
147         \textcolor{keywordflow}{if}(m_allowMultiAssociations)
148         \{
149           associationMap[pTrack] = pBestCluster;
150           \textcolor{keywordflow}{continue};
151         \}
152 
153         MultiAssociationMap::iterator iter = multiAssociationMap.find(pBestCluster);
154 
155         \textcolor{keywordflow}{if}(multiAssociationMap.end() != iter)
156         \{
157           AssociationMap::iterator iter2 = associationMap.find(iter->second);
158 
159           \textcolor{keywordflow}{if}(iter2 == associationMap.end())
160           \{
161             associationMap[pTrack] = pBestCluster;
162             multiAssociationMap[pBestCluster] = pTrack;
163             \textcolor{keywordflow}{continue};
164           \}
165 
166           pandora::TrackList chiTrackList, newChiTrackList;
167           chiTrackList.insert(iter->second);
168           newChiTrackList.insert(pTrack);
169 
170           \textcolor{keyword}{const} \textcolor{keywordtype}{float} chi = ReclusterHelper::GetTrackClusterCompatibility(this->GetPandora(), pBestCluster,
       chiTrackList);
171           \textcolor{keyword}{const} \textcolor{keywordtype}{float} newChi = ReclusterHelper::GetTrackClusterCompatibility(this->GetPandora(), 
      pBestCluster, newChiTrackList);
172 
173           \textcolor{keywordflow}{if}(chi*chi > newChi*newChi)
174           \{
175             multiAssociationMap[pBestCluster] = pTrack;
176             associationMap.erase(iter2);
177             associationMap[pTrack] = pBestCluster;
178           \}
179         \}
180         \textcolor{keywordflow}{else}
181         \{
182           associationMap[pTrack] = pBestCluster;
183           multiAssociationMap[pBestCluster] = pTrack;
184         \}
185       \}
186     \}
187 
188     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
189   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Calculate\+Association\+Constraints@{Calculate\+Association\+Constraints}}
\index{Calculate\+Association\+Constraints@{Calculate\+Association\+Constraints}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Calculate\+Association\+Constraints}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Calculate\+Association\+Constraints (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Cluster $\ast$const}]{p\+Cluster, }
\item[{const pandora\+::\+Track $\ast$const}]{p\+Track, }
\item[{{\bf Association\+Constraints} \&}]{constraints}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_aa14abfb46de34b130124d6fc33897a79}


Calculate the track-\/cluster association constraints for a possible association. 


\begin{DoxyParams}{Parameters}
{\em p\+Cluster} & the input cluster \\
\hline
{\em p\+Track} & the input track \\
\hline
{\em constraints} & the track-\/cluster association constraints \\
\hline
\end{DoxyParams}


Definition at line 284 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References Compute\+Inner\+Centroid(), arbor\+\_\+content\+::\+Recluster\+Helper\+::\+Get\+Track\+Cluster\+Compatibility(), arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+chi2, arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+compatibility, arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+distance\+To\+Helix, m\+\_\+max\+Distance\+To\+Helix, arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+p\+Cluster, arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+track\+Cluster\+Angle, and m\+\_\+use\+Energy\+Compatibility.



Referenced by Build\+Possible\+Associations().


\begin{DoxyCode}
285   \{
286     \textcolor{keywordflow}{if}( NULL == pCluster || NULL == pTrack)
287       \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_INVALID\_PARAMETER;
288 
289     \textcolor{keyword}{const} pandora::CartesianVector trackMomentum(pTrack->GetTrackStateAtCalorimeter().GetMomentum());
290     \textcolor{keyword}{const} pandora::CartesianVector trackProjection(pTrack->GetTrackStateAtCalorimeter().GetPosition());
291 
292     pandora::CartesianVector innerCentroid(0.f, 0.f, 0.f);
293     PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, this->
      ComputeInnerCentroid(pCluster, pTrack, innerCentroid));
294 
295     \textcolor{comment}{// get b field and track helix}
296     \textcolor{keyword}{const} \textcolor{keywordtype}{float} bField(PandoraContentApi::GetPlugins(*this)->GetBFieldPlugin()->GetBField(
      pandora::CartesianVector(0.f, 0.f, 0.f)));
297     \textcolor{keyword}{const} pandora::Helix helix(trackProjection, trackMomentum, pTrack->GetCharge(), bField);
298 
299     pandora::CartesianVector distanceToHelix(0.f, 0.f, 0.f);
300     helix.GetDistanceToPoint(innerCentroid, distanceToHelix);
301 
302     pandora::TrackList trackList;
303     trackList.insert(pTrack);
304 
305     \textcolor{keyword}{const} \textcolor{keywordtype}{float} openingAngle(trackMomentum.GetOpeningAngle(innerCentroid - trackProjection));
306     \textcolor{keyword}{const} \textcolor{keywordtype}{float} chi = ReclusterHelper::GetTrackClusterCompatibility(this->GetPandora(), pCluster, trackList
      );
307 
308     \textcolor{keyword}{const} \textcolor{keywordtype}{float} energyCompatibility( m_useEnergyCompatibility ? chi*chi : 1.f );
309     \textcolor{keyword}{const} \textcolor{keywordtype}{float} distanceCompatibility( distanceToHelix.GetZ() / 
      m_maxDistanceToHelix );
310 
311     \textcolor{comment}{// compatibility as a distance to helix combined with energy information}
312     \textcolor{keyword}{const} \textcolor{keywordtype}{float} compatibility( energyCompatibility * distanceCompatibility );
313 
314     constraints.m\_pCluster = pCluster;
315     constraints.m\_chi2 = chi*chi;
316     constraints.m\_trackClusterAngle = openingAngle;
317     constraints.m\_distanceToHelix = distanceToHelix.GetZ();
318     constraints.m\_compatibility = compatibility;
319 
320     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
321   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Compute\+Inner\+Centroid@{Compute\+Inner\+Centroid}}
\index{Compute\+Inner\+Centroid@{Compute\+Inner\+Centroid}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Compute\+Inner\+Centroid}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Compute\+Inner\+Centroid (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Cluster $\ast$const}]{p\+Cluster, }
\item[{const pandora\+::\+Track $\ast$const}]{p\+Track, }
\item[{pandora\+::\+Cartesian\+Vector \&}]{inner\+Centroid}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a938dec9aee58c4fa48e23d358fe2b199}


Definition at line 212 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References m\+\_\+max\+Track\+Cluster\+Angle, and m\+\_\+n\+First\+Cluster\+Pseudo\+Layer.



Referenced by Calculate\+Association\+Constraints(), and Passes\+Initial\+Cuts().


\begin{DoxyCode}
213   \{
214     \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} innerPseudoLayer(pCluster->GetInnerPseudoLayer());
215     \textcolor{keyword}{const} pandora::CartesianVector trackMomentum(pTrack->GetTrackStateAtCalorimeter().GetMomentum());
216     \textcolor{keyword}{const} pandora::CartesianVector trackProjection(pTrack->GetTrackStateAtCalorimeter().GetPosition());
217     \textcolor{keyword}{const} pandora::OrderedCaloHitList &orderedCaloHitList(pCluster->GetOrderedCaloHitList());
218     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nDof(0);
219 
220     \textcolor{keywordflow}{for}(pandora::OrderedCaloHitList::const\_iterator iter = orderedCaloHitList.begin(), endIter = 
      orderedCaloHitList.end() ; endIter != iter ; ++iter)
221     \{
222       \textcolor{keywordflow}{if}( ( iter->first - innerPseudoLayer ) > m_nFirstClusterPseudoLayer )
223         \textcolor{keywordflow}{break};
224 
225       \textcolor{keywordflow}{for}(pandora::CaloHitList::const\_iterator hiter = iter->second->begin(), endhiter = iter->second->end(
      ) ; endhiter != hiter ; ++hiter)
226       \{
227         \textcolor{keyword}{const} pandora::CaloHit *\textcolor{keyword}{const} pCaloHit(*hiter);
228 
229         \textcolor{keyword}{const} \textcolor{keywordtype}{float} openingAngle(trackMomentum.GetOpeningAngle(pCaloHit->GetPositionVector() - 
      trackProjection));
230 
231         \textcolor{keywordflow}{if}(openingAngle > m_maxTrackClusterAngle)
232           \textcolor{keywordflow}{continue};
233 
234         ++nDof;
235         innerCentroid += pCaloHit->GetPositionVector();
236       \}
237     \}
238 
239     \textcolor{comment}{//  std::cout << " ==> nDof = " << nDof <<  std::endl;}
240 
241     \textcolor{keywordflow}{if}(0 == nDof)
242       \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_FAILURE;
243 
244     innerCentroid *= (1.f / nDof);
245 
246     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
247   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Extract\+Association\+Lists@{Extract\+Association\+Lists}}
\index{Extract\+Association\+Lists@{Extract\+Association\+Lists}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Extract\+Association\+Lists}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Extract\+Association\+Lists (
\begin{DoxyParamCaption}
\item[{pandora\+::\+Cluster\+List \&}]{cluster\+List, }
\item[{pandora\+::\+Track\+List \&}]{track\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a139f4cf2b8bb305ba3e31e0b62593111}


Extract the cluster and track lists eligible for track-\/cluster associations. 


\begin{DoxyParams}{Parameters}
{\em cluster\+List} & the cluster list to receive \\
\hline
{\em track\+List} & the track list to receive \\
\hline
\end{DoxyParams}


Definition at line 57 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer.



Referenced by Run().


\begin{DoxyCode}
58   \{
59     \textcolor{keyword}{const} pandora::TrackList *pTrackList = NULL;
60     PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::GetCurrentList(*\textcolor{keyword}{this}, 
      pTrackList));
61 
62     \textcolor{keyword}{const} pandora::ClusterList *pClusterList = NULL;
63     PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::GetCurrentList(*\textcolor{keyword}{this}, 
      pClusterList));
64 
65     \textcolor{keywordflow}{if}(pTrackList->empty() || pClusterList->empty())
66       \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
67 
68     \textcolor{comment}{// filter clusters}
69     \textcolor{keywordflow}{for}(pandora::ClusterList::const\_iterator iter = pClusterList->begin() , endIter = pClusterList->end() ;
70         endIter != iter ; ++iter)
71     \{
72       \textcolor{keyword}{const} pandora::Cluster *\textcolor{keyword}{const} pCluster = *iter;
73 
74       \textcolor{keywordflow}{if}( ! PandoraContentApi::IsAvailable(*\textcolor{keyword}{this}, pCluster) )
75         \textcolor{keywordflow}{continue};
76 
77       \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} innerPseudoLayer(pCluster->GetInnerPseudoLayer());
78 
79       \textcolor{keywordflow}{if}( innerPseudoLayer > m_maxClusterInnerPseudoLayer )
80         \textcolor{keywordflow}{continue};
81 
82       clusterList.insert(pCluster);
83     \}
84 
85     \textcolor{comment}{// filter tracks}
86     \textcolor{keywordflow}{for}(pandora::TrackList::const\_iterator trackIter = pTrackList->begin() , trackEndIter = pTrackList->end
      () ;
87         trackEndIter != trackIter ; ++trackIter)
88     \{
89       \textcolor{keyword}{const} pandora::Track *\textcolor{keyword}{const} pTrack = *trackIter;
90 
91       \textcolor{keywordflow}{if}(!PandoraContentApi::IsAvailable(*\textcolor{keyword}{this}, pTrack))
92         \textcolor{keywordflow}{continue};
93 
94       \textcolor{keywordflow}{if}(!pTrack->ReachesCalorimeter())
95         \textcolor{keywordflow}{continue};
96 
97       \textcolor{keywordflow}{if}(!pTrack->CanFormPfo())
98         \textcolor{keywordflow}{continue};
99 
100       trackList.insert(pTrack);
101     \}
102 
103     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
104   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Fit\+Constraints@{Fit\+Constraints}}
\index{Fit\+Constraints@{Fit\+Constraints}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Fit\+Constraints}]{\setlength{\rightskip}{0pt plus 5cm}bool arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Fit\+Constraints (
\begin{DoxyParamCaption}
\item[{const {\bf Association\+Constraints} \&}]{constraints}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a30b15ce9e8ed03b661aac31c8d98c06d}


Whether the set of constraints passes the final cuts for an association. 


\begin{DoxyParams}{Parameters}
{\em constraints} & the constraints to check \\
\hline
\end{DoxyParams}


Definition at line 325 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+distance\+To\+Helix, m\+\_\+max\+Distance\+To\+Helix, m\+\_\+max\+Track\+Cluster\+Angle, and arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+track\+Cluster\+Angle.



Referenced by Build\+Possible\+Associations().


\begin{DoxyCode}
326   \{
327     \textcolor{keywordflow}{if}( constraints.m\_distanceToHelix > m_maxDistanceToHelix )
328       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
329 
330     \textcolor{keywordflow}{if}( constraints.m\_trackClusterAngle > m_maxTrackClusterAngle )
331       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
332 
333     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
334   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Passes\+Initial\+Cuts@{Passes\+Initial\+Cuts}}
\index{Passes\+Initial\+Cuts@{Passes\+Initial\+Cuts}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Passes\+Initial\+Cuts}]{\setlength{\rightskip}{0pt plus 5cm}bool arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Passes\+Initial\+Cuts (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Cluster $\ast$const}]{p\+Cluster, }
\item[{const pandora\+::\+Track $\ast$const}]{p\+Track}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_aceb50e057b6055530efa8dce2f3bbb44}


Whether the track-\/cluster pair passes simple cuts for a possible association. 


\begin{DoxyParams}{Parameters}
{\em p\+Cluster} & the input cluster \\
\hline
{\em p\+Track} & the input track \\
\hline
\end{DoxyParams}


Definition at line 251 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References Compute\+Inner\+Centroid(), and m\+\_\+max\+Distance\+To\+Helix.



Referenced by Build\+Possible\+Associations().


\begin{DoxyCode}
252   \{
253     \textcolor{keywordflow}{if}( NULL == pCluster || NULL == pTrack)
254       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
255 
256     \textcolor{keyword}{const} pandora::CartesianVector trackMomentum(pTrack->GetTrackStateAtCalorimeter().GetMomentum());
257     \textcolor{keyword}{const} pandora::CartesianVector trackProjection(pTrack->GetTrackStateAtCalorimeter().GetPosition());
258 
259     pandora::CartesianVector innerCentroid(0.f, 0.f, 0.f);
260 
261     \textcolor{keywordflow}{if}(pandora::STATUS\_CODE\_SUCCESS != this->ComputeInnerCentroid(pCluster, pTrack, innerCentroid))
262       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
263 
264     \textcolor{comment}{// get b field and track helix}
265     \textcolor{keyword}{const} \textcolor{keywordtype}{float} bField(PandoraContentApi::GetPlugins(*this)->GetBFieldPlugin()->GetBField(
      pandora::CartesianVector(0.f, 0.f, 0.f)));
266     \textcolor{keyword}{const} pandora::Helix helix(trackProjection, trackMomentum, pTrack->GetCharge(), bField);
267 
268     \textcolor{comment}{//  pandora::CartesianVector projectionOnHelix(0.f, 0.f, 0.f);}
269     \textcolor{comment}{//}
270     \textcolor{comment}{//  if(pandora::STATUS\_CODE\_SUCCESS != GeometryHelper::GetProjectionOnHelix(helix, innerCentroid,
       projectionOnHelix))}
271     \textcolor{comment}{//    return false;}
272 
273     pandora::CartesianVector distanceToHelix(0.f, 0.f, 0.f);
274     helix.GetDistanceToPoint(innerCentroid, distanceToHelix);
275 
276     \textcolor{keywordflow}{if}( distanceToHelix.GetZ() > m_maxDistanceToHelix )
277       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
278 
279     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
280   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Perform\+Associations@{Perform\+Associations}}
\index{Perform\+Associations@{Perform\+Associations}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Perform\+Associations}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Perform\+Associations (
\begin{DoxyParamCaption}
\item[{const {\bf Association\+Map} \&}]{association\+Map}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a52d28a21bd484c17f3132533ac4e3eee}


Perform the track-\/cluster association. 


\begin{DoxyParams}{Parameters}
{\em association\+Map} & the input association map \\
\hline
\end{DoxyParams}


Definition at line 193 of file Track\+Cluster\+Association\+Algorithm.\+cc.



Referenced by Run().


\begin{DoxyCode}
194   \{
195     \textcolor{keywordflow}{for}(AssociationMap::const\_iterator iter = associationMap.begin() , endIter = associationMap.end() ;
196         endIter != iter ; ++iter)
197     \{
198       \textcolor{keyword}{const} pandora::Track *\textcolor{keyword}{const} pTrack(iter->first);
199       \textcolor{keyword}{const} pandora::Cluster *\textcolor{keyword}{const} pCluster(iter->second);
200 
201       \textcolor{keywordflow}{if}((NULL == pTrack) || (NULL == pCluster))
202         \textcolor{keywordflow}{continue};
203 
204       PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, 
      PandoraContentApi::AddTrackClusterAssociation(*\textcolor{keyword}{this}, pTrack, pCluster));
205     \}
206 
207     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
208   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Read\+Settings@{Read\+Settings}}
\index{Read\+Settings@{Read\+Settings}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Read\+Settings}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Read\+Settings (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Ti\+Xml\+Handle}]{xml\+Handle}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_abd0e29d58521aab166788fc5acf49cf5}


Definition at line 345 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References m\+\_\+allow\+Multi\+Associations, m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer, m\+\_\+max\+Distance\+To\+Helix, m\+\_\+max\+Track\+Cluster\+Angle, m\+\_\+n\+First\+Cluster\+Pseudo\+Layer, and m\+\_\+use\+Energy\+Compatibility.


\begin{DoxyCode}
346   \{
347     m_maxClusterInnerPseudoLayer = 3;
348     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(pandora::STATUS\_CODE\_SUCCESS, pandora::STATUS\_CODE\_NOT\_FOUND, !=, 
      pandora::XmlHelper::ReadValue(xmlHandle,
349         \textcolor{stringliteral}{"MaxClusterInnerPseudoLayer"}, m_maxClusterInnerPseudoLayer));
350 
351     m_nFirstClusterPseudoLayer = 4;
352     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(pandora::STATUS\_CODE\_SUCCESS, pandora::STATUS\_CODE\_NOT\_FOUND, !=, 
      pandora::XmlHelper::ReadValue(xmlHandle,
353         \textcolor{stringliteral}{"NFirstClusterPseudoLayer"}, m_nFirstClusterPseudoLayer));
354 
355     m_maxDistanceToHelix = 25.f;
356     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(pandora::STATUS\_CODE\_SUCCESS, pandora::STATUS\_CODE\_NOT\_FOUND, !=, 
      pandora::XmlHelper::ReadValue(xmlHandle,
357         \textcolor{stringliteral}{"MaxDistanceToHelix"}, m_maxDistanceToHelix));
358 
359     m_maxTrackClusterAngle = 0.6f;
360     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(pandora::STATUS\_CODE\_SUCCESS, pandora::STATUS\_CODE\_NOT\_FOUND, !=, 
      pandora::XmlHelper::ReadValue(xmlHandle,
361         \textcolor{stringliteral}{"MaxTrackClusterAngle"}, m_maxTrackClusterAngle));
362 
363     m_allowMultiAssociations = \textcolor{keyword}{true};
364     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(pandora::STATUS\_CODE\_SUCCESS, pandora::STATUS\_CODE\_NOT\_FOUND, !=, 
      pandora::XmlHelper::ReadValue(xmlHandle,
365         \textcolor{stringliteral}{"AllowMultiAssociations"}, m_allowMultiAssociations));
366 
367     m_useEnergyCompatibility = \textcolor{keyword}{false};
368     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(pandora::STATUS\_CODE\_SUCCESS, pandora::STATUS\_CODE\_NOT\_FOUND, !=, 
      pandora::XmlHelper::ReadValue(xmlHandle,
369         \textcolor{stringliteral}{"UseEnergyCompatibility"}, m_useEnergyCompatibility));
370 
371     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
372   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Run@{Run}}
\index{Run@{Run}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Run}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_ae5318b447285fe4b93e2bd9293c96ae8}


Definition at line 36 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References Build\+Possible\+Associations(), Extract\+Association\+Lists(), and Perform\+Associations().


\begin{DoxyCode}
37   \{
38     \textcolor{comment}{// extract tracks and clusters eligible for track-cluster associations}
39     pandora::TrackList trackList; pandora::ClusterList clusterList;
40     PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, this->
      ExtractAssociationLists(clusterList, trackList));
41 
42     \textcolor{keywordflow}{if}(trackList.empty() || clusterList.empty())
43       \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
44 
45     \textcolor{comment}{// reset the track-cluster associations}
46     PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, 
      PandoraContentApi::RemoveCurrentTrackClusterAssociations(*\textcolor{keyword}{this}));
47 
48     AssociationMap associationMap;
49     PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, this->
      BuildPossibleAssociations(clusterList, trackList, associationMap));
50     PANDORA\_RETURN\_RESULT\_IF(pandora::STATUS\_CODE\_SUCCESS, !=, this->
      PerformAssociations(associationMap));
51 
52     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
53   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!Sort\+By\+Best\+Compatibility@{Sort\+By\+Best\+Compatibility}}
\index{Sort\+By\+Best\+Compatibility@{Sort\+By\+Best\+Compatibility}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{Sort\+By\+Best\+Compatibility}]{\setlength{\rightskip}{0pt plus 5cm}bool arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Sort\+By\+Best\+Compatibility (
\begin{DoxyParamCaption}
\item[{const {\bf Association\+Constraints} \&}]{lhs, }
\item[{const {\bf Association\+Constraints} \&}]{rhs}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a302032ea7b01ae2c2a11ed8fa52ce604}


Sort association constraints by compatibility (std\+::sort) 



Definition at line 338 of file Track\+Cluster\+Association\+Algorithm.\+cc.



References arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::\+Association\+Constraints\+::m\+\_\+compatibility.


\begin{DoxyCode}
339   \{
340     \textcolor{keywordflow}{return} lhs.m\_compatibility > rhs.m\_compatibility;
341   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!m\+\_\+allow\+Multi\+Associations@{m\+\_\+allow\+Multi\+Associations}}
\index{m\+\_\+allow\+Multi\+Associations@{m\+\_\+allow\+Multi\+Associations}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{m\+\_\+allow\+Multi\+Associations}]{\setlength{\rightskip}{0pt plus 5cm}bool arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::m\+\_\+allow\+Multi\+Associations\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a523a0d4d78f219481d0d84e79edb1f36}


Whether to allow multi track associations for a single cluster. 



Definition at line 139 of file Track\+Cluster\+Association\+Algorithm.\+h.



Referenced by Build\+Possible\+Associations(), and Read\+Settings().

\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer@{m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer}}
\index{m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer@{m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::m\+\_\+max\+Cluster\+Inner\+Pseudo\+Layer\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_ab0f1f0d2115cb0ae6ae1de84e7427716}


The maximum cluster inner pseudo layer cut. 



Definition at line 133 of file Track\+Cluster\+Association\+Algorithm.\+h.



Referenced by Extract\+Association\+Lists(), and Read\+Settings().

\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!m\+\_\+max\+Distance\+To\+Helix@{m\+\_\+max\+Distance\+To\+Helix}}
\index{m\+\_\+max\+Distance\+To\+Helix@{m\+\_\+max\+Distance\+To\+Helix}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{m\+\_\+max\+Distance\+To\+Helix}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::m\+\_\+max\+Distance\+To\+Helix\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a495b3c81edf91ada639056761d914dae}


The maximum distance between a track helix and the cluster inner centroid. 



Definition at line 136 of file Track\+Cluster\+Association\+Algorithm.\+h.



Referenced by Calculate\+Association\+Constraints(), Fit\+Constraints(), Passes\+Initial\+Cuts(), and Read\+Settings().

\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!m\+\_\+max\+Track\+Cluster\+Angle@{m\+\_\+max\+Track\+Cluster\+Angle}}
\index{m\+\_\+max\+Track\+Cluster\+Angle@{m\+\_\+max\+Track\+Cluster\+Angle}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{m\+\_\+max\+Track\+Cluster\+Angle}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::m\+\_\+max\+Track\+Cluster\+Angle\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a2a0dc45a6f218fddfc431d949f7bdb46}


The maximum angle between the track projection and the cluster inner centroid. 



Definition at line 137 of file Track\+Cluster\+Association\+Algorithm.\+h.



Referenced by Compute\+Inner\+Centroid(), Fit\+Constraints(), and Read\+Settings().

\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!m\+\_\+n\+First\+Cluster\+Pseudo\+Layer@{m\+\_\+n\+First\+Cluster\+Pseudo\+Layer}}
\index{m\+\_\+n\+First\+Cluster\+Pseudo\+Layer@{m\+\_\+n\+First\+Cluster\+Pseudo\+Layer}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{m\+\_\+n\+First\+Cluster\+Pseudo\+Layer}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::m\+\_\+n\+First\+Cluster\+Pseudo\+Layer\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_a87c723afbbf8e98c25060159fdfe03d0}


The number of cluster pseudo layers for the inner centroid evaluation. 



Definition at line 134 of file Track\+Cluster\+Association\+Algorithm.\+h.



Referenced by Compute\+Inner\+Centroid(), and Read\+Settings().

\index{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}!m\+\_\+use\+Energy\+Compatibility@{m\+\_\+use\+Energy\+Compatibility}}
\index{m\+\_\+use\+Energy\+Compatibility@{m\+\_\+use\+Energy\+Compatibility}!arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm@{arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm}}
\subsubsection[{m\+\_\+use\+Energy\+Compatibility}]{\setlength{\rightskip}{0pt plus 5cm}bool arbor\+\_\+content\+::\+Track\+Cluster\+Association\+Algorithm\+::m\+\_\+use\+Energy\+Compatibility\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1TrackClusterAssociationAlgorithm_abe6de97e6649733f0376647d3c7d7921}


Whether to use energy information for association. 



Definition at line 140 of file Track\+Cluster\+Association\+Algorithm.\+h.



Referenced by Calculate\+Association\+Constraints(), and Read\+Settings().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
{\bf Track\+Cluster\+Association\+Algorithm.\+h}\item 
{\bf Track\+Cluster\+Association\+Algorithm.\+cc}\end{DoxyCompactItemize}
