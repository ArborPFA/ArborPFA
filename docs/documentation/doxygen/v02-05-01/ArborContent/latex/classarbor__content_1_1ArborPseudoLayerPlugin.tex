\section{arbor\+\_\+content\+:\+:Arbor\+Pseudo\+Layer\+Plugin Class Reference}
\label{classarbor__content_1_1ArborPseudoLayerPlugin}\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}


\doxyref{Arbor\+Pseudo\+Layer\+Plugin}{p.}{classarbor__content_1_1ArborPseudoLayerPlugin} class.  




{\ttfamily \#include $<$Arbor\+Pseudo\+Layer\+Plugin.\+h$>$}

Inheritance diagram for arbor\+\_\+content\+:\+:Arbor\+Pseudo\+Layer\+Plugin\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classarbor__content_1_1ArborPseudoLayerPlugin}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Arbor\+Pseudo\+Layer\+Plugin} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
unsigned int {\bf Get\+Pseudo\+Layer} (const pandora\+::\+Cartesian\+Vector \&position\+Vector) const 
\item 
unsigned int {\bf Get\+Pseudo\+Layer\+At\+Ip} () const 
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::vector$<$ float $>$ {\bf Layer\+Position\+List}
\item 
typedef std\+::vector$<$ std\+::pair\\*
$<$ float, float $>$ $>$ {\bf Angle\+Vector}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
pandora\+::\+Status\+Code {\bf Initialize} ()
\item 
pandora\+::\+Status\+Code {\bf Get\+Pseudo\+Layer} (const float r\+Coordinate, const float z\+Coordinate, const float r\+Correction, const float z\+Correction, const float barrel\+Inner\+R, const float end\+Cap\+Inner\+Z, unsigned int \&pseudo\+Layer) const 
\begin{DoxyCompactList}\small\item\em Get the appropriate pseudolayer for a specified parameters. \end{DoxyCompactList}\item 
pandora\+::\+Status\+Code {\bf Find\+Matching\+Layer} (const float position, const {\bf Layer\+Position\+List} \&layer\+Position\+List, unsigned int \&layer) const 
\begin{DoxyCompactList}\small\item\em Find the layer number corresponding to a specified position, via reference to a specified layer position list. \end{DoxyCompactList}\item 
void {\bf Store\+Layer\+Positions} ()
\begin{DoxyCompactList}\small\item\em Store all revelevant barrel and endcap layer positions upon initialization. \end{DoxyCompactList}\item 
void {\bf Store\+Layer\+Positions} (const pandora\+::\+Sub\+Detector \&sub\+Detector, {\bf Layer\+Position\+List} \&{\bf Layer\+Position\+List})
\begin{DoxyCompactList}\small\item\em Store subdetector layer positions upon initialization. \end{DoxyCompactList}\item 
void {\bf Store\+Detector\+Outer\+Edge} ()
\begin{DoxyCompactList}\small\item\em Store positions of barrel and endcap outer edges upon initialization. \end{DoxyCompactList}\item 
void {\bf Store\+Polygon\+Angles} ()
\begin{DoxyCompactList}\small\item\em Store sine and cosine of angles used to project hit positions onto polygonal calorimeter surfaces upon initialization. \end{DoxyCompactList}\item 
void {\bf Store\+Overlap\+Correction\+Details} ()
\begin{DoxyCompactList}\small\item\em Store all details revelevant to barrel/endcap overlap corrections upon initialization. \end{DoxyCompactList}\item 
float {\bf Get\+Maximum\+Radius} (const {\bf Angle\+Vector} \&angle\+Vector, const float x, const float y) const 
\begin{DoxyCompactList}\small\item\em Get the maximum polygon radius, with reference to cached sine/cosine values for relevant polygon angles. \end{DoxyCompactList}\item 
void {\bf Fill\+Angle\+Vector} (const unsigned int symmetry\+Order, const float phi0, {\bf Angle\+Vector} \&angle\+Vector) const 
\begin{DoxyCompactList}\small\item\em Fill a vector with sine/cosine values for relevant polygon angles. \end{DoxyCompactList}\item 
pandora\+::\+Status\+Code {\bf Read\+Settings} (const pandora\+::\+Ti\+Xml\+Handle xml\+Handle)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf Layer\+Position\+List} {\bf m\+\_\+barrel\+Layer\+Positions}
\begin{DoxyCompactList}\small\item\em List of barrel layer positions. \end{DoxyCompactList}\item 
{\bf Layer\+Position\+List} {\bf m\+\_\+end\+Cap\+Layer\+Positions}
\begin{DoxyCompactList}\small\item\em List of endcap layer positions. \end{DoxyCompactList}\item 
{\bf Angle\+Vector} {\bf m\+\_\+e\+Cal\+Barrel\+Angle\+Vector}
\begin{DoxyCompactList}\small\item\em The ecal barrel angle vector. \end{DoxyCompactList}\item 
{\bf Angle\+Vector} {\bf m\+\_\+muon\+Barrel\+Angle\+Vector}
\begin{DoxyCompactList}\small\item\em The muon barrel angle vector. \end{DoxyCompactList}\item 
float {\bf m\+\_\+barrel\+Inner\+R}
\begin{DoxyCompactList}\small\item\em Barrel inner radius. \end{DoxyCompactList}\item 
float {\bf m\+\_\+end\+Cap\+Inner\+Z}
\begin{DoxyCompactList}\small\item\em Endcap inner z position. \end{DoxyCompactList}\item 
float {\bf m\+\_\+barrel\+Inner\+R\+Muon}
\begin{DoxyCompactList}\small\item\em Muon barrel inner radius. \end{DoxyCompactList}\item 
float {\bf m\+\_\+end\+Cap\+Inner\+Z\+Muon}
\begin{DoxyCompactList}\small\item\em Muon endcap inner z position. \end{DoxyCompactList}\item 
float {\bf m\+\_\+r\+Correction}
\begin{DoxyCompactList}\small\item\em Barrel/endcap overlap r correction. \end{DoxyCompactList}\item 
float {\bf m\+\_\+z\+Correction}
\begin{DoxyCompactList}\small\item\em Barrel/endcap overlap z correction. \end{DoxyCompactList}\item 
float {\bf m\+\_\+r\+Correction\+Muon}
\begin{DoxyCompactList}\small\item\em Muon barrel/endcap overlap r correction. \end{DoxyCompactList}\item 
float {\bf m\+\_\+z\+Correction\+Muon}
\begin{DoxyCompactList}\small\item\em Muon barrel/endcap overlap z correction. \end{DoxyCompactList}\item 
float {\bf m\+\_\+barrel\+Edge\+R}
\begin{DoxyCompactList}\small\item\em Extremal barrel r coordinate. \end{DoxyCompactList}\item 
float {\bf m\+\_\+end\+Cap\+Edge\+Z}
\begin{DoxyCompactList}\small\item\em Extremal endcap z coordinate. \end{DoxyCompactList}\item 
bool {\bf m\+\_\+use\+Coordinate\+Corrections}
\begin{DoxyCompactList}\small\item\em Whether to use coordinate correction in intermediate regions. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{Arbor\+Pseudo\+Layer\+Plugin}{p.}{classarbor__content_1_1ArborPseudoLayerPlugin} class. 

Definition at line 41 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



\subsection{Member Typedef Documentation}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Angle\+Vector@{Angle\+Vector}}
\index{Angle\+Vector@{Angle\+Vector}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Angle\+Vector}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<$ std\+::pair$<$float, float$>$ $>$ {\bf arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Angle\+Vector}\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a4f0a1c7c3c79f27f04203524d6636fa3}


Definition at line 108 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Layer\+Position\+List@{Layer\+Position\+List}}
\index{Layer\+Position\+List@{Layer\+Position\+List}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Layer\+Position\+List}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<$float$>$ {\bf arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Layer\+Position\+List}\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_afb0fea9c98344d6fd030bf1f1092648b}


Definition at line 69 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Arbor\+Pseudo\+Layer\+Plugin@{Arbor\+Pseudo\+Layer\+Plugin}}
\index{Arbor\+Pseudo\+Layer\+Plugin@{Arbor\+Pseudo\+Layer\+Plugin}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Arbor\+Pseudo\+Layer\+Plugin}]{\setlength{\rightskip}{0pt plus 5cm}arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Arbor\+Pseudo\+Layer\+Plugin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classarbor__content_1_1ArborPseudoLayerPlugin_acf31e9f52172f206515d5ad3c5ec92d1}


Default constructor. 



Definition at line 34 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.


\begin{DoxyCode}
34                                                  :
35       m_barrelInnerR(0.f),
36       m_endCapInnerZ(0.f),
37       m_barrelInnerRMuon(0.f),
38       m_endCapInnerZMuon(0.f),
39       m_rCorrection(0.f),
40       m_zCorrection(0.f),
41       m_rCorrectionMuon(0.f),
42       m_zCorrectionMuon(0.f),
43       m_barrelEdgeR(0.f),
44       m_endCapEdgeZ(0.f),
45       m_useCoordinateCorrections(\textcolor{keyword}{false})
46   \{
47   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Fill\+Angle\+Vector@{Fill\+Angle\+Vector}}
\index{Fill\+Angle\+Vector@{Fill\+Angle\+Vector}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Fill\+Angle\+Vector}]{\setlength{\rightskip}{0pt plus 5cm}void arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Fill\+Angle\+Vector (
\begin{DoxyParamCaption}
\item[{const unsigned int}]{symmetry\+Order, }
\item[{const float}]{phi0, }
\item[{{\bf Angle\+Vector} \&}]{angle\+Vector}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a037a937132c910cb7a5a5fbf51bd3e50}


Fill a vector with sine/cosine values for relevant polygon angles. 


\begin{DoxyParams}{Parameters}
{\em symmetry\+Order} & the polygon symmetry order \\
\hline
{\em phi0} & the polygon cylindrical polar phi coordinate \\
\hline
{\em angle\+Vector} & the vector to fill with sine/cosine values for relevant polygon angles \\
\hline
\end{DoxyParams}


Definition at line 302 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



Referenced by Store\+Polygon\+Angles().


\begin{DoxyCode}
303   \{
304     \textcolor{keyword}{const} \textcolor{keywordtype}{float} twoPi = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(2. * std::acos(-1.));
305     angleVector.clear();
306 
307     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iSymmetry = 0; iSymmetry < symmetryOrder; ++iSymmetry)
308     \{
309       \textcolor{keyword}{const} \textcolor{keywordtype}{float} phi = phi0 + ((twoPi * \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(iSymmetry)) / \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(symmetryOrder)
      );
310       angleVector.push\_back(std::make\_pair(std::cos(phi), std::sin(phi)));
311     \}
312   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Find\+Matching\+Layer@{Find\+Matching\+Layer}}
\index{Find\+Matching\+Layer@{Find\+Matching\+Layer}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Find\+Matching\+Layer}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Find\+Matching\+Layer (
\begin{DoxyParamCaption}
\item[{const float}]{position, }
\item[{const {\bf Layer\+Position\+List} \&}]{layer\+Position\+List, }
\item[{unsigned int \&}]{layer}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_aee640d955973bad8ce3e6d470da63d73}


Find the layer number corresponding to a specified position, via reference to a specified layer position list. 


\begin{DoxyParams}{Parameters}
{\em position} & the specified position \\
\hline
{\em layer\+Position\+List} & the specified layer position list \\
\hline
{\em layer} & to receive the layer number \\
\hline
\end{DoxyParams}


Definition at line 141 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



Referenced by Get\+Pseudo\+Layer().


\begin{DoxyCode}
143   \{
144     LayerPositionList::const\_iterator upperIter = std::upper\_bound(layerPositionList.begin(), 
      layerPositionList.end(), position);
145 
146     \textcolor{keywordflow}{if} (layerPositionList.end() == upperIter)
147     \{
148       \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_NOT\_FOUND;
149     \}
150 
151     \textcolor{keywordflow}{if} (layerPositionList.begin() == upperIter)
152     \{
153       layer = 0;
154       \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
155     \}
156 
157     LayerPositionList::const\_iterator lowerIter = upperIter - 1;
158 
159     \textcolor{keywordflow}{if} (std::fabs(position - *lowerIter) < std::fabs(position - *upperIter))
160     \{
161       layer = std::distance(layerPositionList.begin(), lowerIter);
162     \}
163     \textcolor{keywordflow}{else}
164     \{
165       layer = std::distance(layerPositionList.begin(), upperIter);
166     \}
167 
168     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
169   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Get\+Maximum\+Radius@{Get\+Maximum\+Radius}}
\index{Get\+Maximum\+Radius@{Get\+Maximum\+Radius}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Get\+Maximum\+Radius}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Get\+Maximum\+Radius (
\begin{DoxyParamCaption}
\item[{const {\bf Angle\+Vector} \&}]{angle\+Vector, }
\item[{const float}]{x, }
\item[{const float}]{y}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a3fbee1a3c7e0af91429644b8ba811b9f}


Get the maximum polygon radius, with reference to cached sine/cosine values for relevant polygon angles. 


\begin{DoxyParams}{Parameters}
{\em angle\+Vector} & vector containing cached sine/cosine values \\
\hline
{\em x} & the cartesian x coordinate \\
\hline
{\em y} & the cartesian y coordinate\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the maximum radius 
\end{DoxyReturn}


Definition at line 283 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



Referenced by Get\+Pseudo\+Layer().


\begin{DoxyCode}
284   \{
285     \textcolor{keywordflow}{if} (angleVector.size() <= 2)
286       \textcolor{keywordflow}{return} std::sqrt((x * x) + (y * y));
287 
288     \textcolor{keywordtype}{float} maxRadius(0.);
289     \textcolor{keywordflow}{for} (AngleVector::const\_iterator iter = angleVector.begin(), iterEnd = angleVector.end(); iter != 
      iterEnd; ++iter)
290     \{
291       \textcolor{keyword}{const} \textcolor{keywordtype}{float} radius((x * iter->first) + (y * iter->second));
292 
293       \textcolor{keywordflow}{if} (radius > maxRadius)
294         maxRadius = radius;
295     \}
296 
297     \textcolor{keywordflow}{return} maxRadius;
298   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Get\+Pseudo\+Layer@{Get\+Pseudo\+Layer}}
\index{Get\+Pseudo\+Layer@{Get\+Pseudo\+Layer}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Get\+Pseudo\+Layer}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Get\+Pseudo\+Layer (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Cartesian\+Vector \&}]{position\+Vector}
\end{DoxyParamCaption}
) const}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a7e84d16b7216a2098f3ebff7813189b7}


Definition at line 71 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



References Get\+Maximum\+Radius(), m\+\_\+barrel\+Edge\+R, m\+\_\+barrel\+Inner\+R, m\+\_\+barrel\+Inner\+R\+Muon, m\+\_\+e\+Cal\+Barrel\+Angle\+Vector, m\+\_\+end\+Cap\+Edge\+Z, m\+\_\+end\+Cap\+Inner\+Z, m\+\_\+end\+Cap\+Inner\+Z\+Muon, m\+\_\+muon\+Barrel\+Angle\+Vector, m\+\_\+r\+Correction, m\+\_\+r\+Correction\+Muon, m\+\_\+z\+Correction, and m\+\_\+z\+Correction\+Muon.



Referenced by Get\+Pseudo\+Layer\+At\+Ip().


\begin{DoxyCode}
72   \{
73     \textcolor{keyword}{const} \textcolor{keywordtype}{float} zCoordinate(std::fabs(positionVector.GetZ()));
74 
75     \textcolor{keywordflow}{if} (zCoordinate > m_endCapEdgeZ)
76       \textcolor{keywordflow}{throw} pandora::StatusCodeException(pandora::STATUS\_CODE\_NOT\_FOUND);
77 
78     \textcolor{keyword}{const} \textcolor{keywordtype}{float} rCoordinate(this->GetMaximumRadius(m_eCalBarrelAngleVector, positionVector.GetX(), 
      positionVector.GetY()));
79     \textcolor{keyword}{const} \textcolor{keywordtype}{float} rCoordinateMuon(this->GetMaximumRadius(m_muonBarrelAngleVector, positionVector.GetX(), 
      positionVector.GetY()));
80 
81     \textcolor{keywordflow}{if} ((rCoordinateMuon > m_barrelEdgeR) || (rCoordinate > m_barrelEdgeR))
82       \textcolor{keywordflow}{throw} pandora::StatusCodeException(pandora::STATUS\_CODE\_NOT\_FOUND);
83 
84     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} pseudoLayer;
85 
86     \textcolor{keywordflow}{if} ((zCoordinate < m_endCapInnerZMuon) && (rCoordinateMuon < 
      m_barrelInnerRMuon))
87     \{
88       \textcolor{keyword}{const} pandora::StatusCode statusCode(this->GetPseudoLayer(rCoordinate, zCoordinate, 
      m_rCorrection, m_zCorrection, m_barrelInnerR,
89           m_endCapInnerZ, pseudoLayer));
90 
91       \textcolor{keywordflow}{if} (pandora::STATUS\_CODE\_SUCCESS != statusCode)
92         \textcolor{keywordflow}{throw} pandora::StatusCodeException(statusCode);
93     \}
94     \textcolor{keywordflow}{else}
95     \{
96       \textcolor{keyword}{const} pandora::StatusCode statusCode(this->GetPseudoLayer(rCoordinateMuon, zCoordinate, 
      m_rCorrectionMuon, m_zCorrectionMuon,
97           m_barrelInnerRMuon, m_endCapInnerZMuon, pseudoLayer));
98 
99       \textcolor{keywordflow}{if} (pandora::STATUS\_CODE\_SUCCESS != statusCode)
100         \textcolor{keywordflow}{throw} pandora::StatusCodeException(statusCode);
101     \}
102 
103     \textcolor{comment}{// Reserve a pseudo layer for track projections, etc.}
104     \textcolor{keywordflow}{return} (1 + pseudoLayer);
105   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Get\+Pseudo\+Layer@{Get\+Pseudo\+Layer}}
\index{Get\+Pseudo\+Layer@{Get\+Pseudo\+Layer}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Get\+Pseudo\+Layer}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Get\+Pseudo\+Layer (
\begin{DoxyParamCaption}
\item[{const float}]{r\+Coordinate, }
\item[{const float}]{z\+Coordinate, }
\item[{const float}]{r\+Correction, }
\item[{const float}]{z\+Correction, }
\item[{const float}]{barrel\+Inner\+R, }
\item[{const float}]{end\+Cap\+Inner\+Z, }
\item[{unsigned int \&}]{pseudo\+Layer}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a3e9512cee6bc2469390265006b4e03e7}


Get the appropriate pseudolayer for a specified parameters. 


\begin{DoxyParams}{Parameters}
{\em r\+Coordinate} & the radial coordinate \\
\hline
{\em z\+Coordinate} & the z coordinate \\
\hline
{\em r\+Correction} & the barrel/endcap overlap r correction \\
\hline
{\em z\+Correction} & the barrel/endcap overlap z correction \\
\hline
{\em barrel\+Inner\+R} & the barrel inner r coordinate \\
\hline
{\em end\+Cap\+Inner\+Z} & the endcap inner z coordinate \\
\hline
{\em pseudo\+Layer} & to receive the appropriate pseudolayer \\
\hline
\end{DoxyParams}


Definition at line 109 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



References Find\+Matching\+Layer(), m\+\_\+barrel\+Layer\+Positions, m\+\_\+end\+Cap\+Layer\+Positions, and m\+\_\+use\+Coordinate\+Corrections.


\begin{DoxyCode}
111   \{
112     \textcolor{keywordflow}{if} (zCoordinate < endCapInnerZ)
113     \{
114       \textcolor{keywordflow}{return} this->FindMatchingLayer(rCoordinate, m_barrelLayerPositions, pseudoLayer);
115     \}
116     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rCoordinate < barrelInnerR)
117     \{
118       \textcolor{keywordflow}{return} this->FindMatchingLayer(zCoordinate, m_endCapLayerPositions, pseudoLayer);
119     \}
120     \textcolor{keywordflow}{else}
121     \{
122       \textcolor{keyword}{const} \textcolor{keywordtype}{float} correctedRCoordinate = m_useCoordinateCorrections ? rCoordinate - rCorrection : 
      rCoordinate;
123       \textcolor{keyword}{const} \textcolor{keywordtype}{float} correctedZCoordinate = m_useCoordinateCorrections ? zCoordinate - zCorrection : 
      zCoordinate;
124 
125       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bestBarrelLayer(0);
126       \textcolor{keyword}{const} pandora::StatusCode barrelStatusCode(this->FindMatchingLayer(correctedRCoordinate, 
      m_barrelLayerPositions, bestBarrelLayer));
127 
128       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bestEndCapLayer(0);
129       \textcolor{keyword}{const} pandora::StatusCode endCapStatusCode(this->FindMatchingLayer(correctedZCoordinate, 
      m_endCapLayerPositions, bestEndCapLayer));
130 
131       \textcolor{keywordflow}{if} ((pandora::STATUS\_CODE\_SUCCESS != barrelStatusCode) && (pandora::STATUS\_CODE\_SUCCESS != 
      endCapStatusCode))
132         \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_NOT\_FOUND;
133 
134       pseudoLayer = std::max(bestBarrelLayer, bestEndCapLayer);
135       \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
136     \}
137   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Get\+Pseudo\+Layer\+At\+Ip@{Get\+Pseudo\+Layer\+At\+Ip}}
\index{Get\+Pseudo\+Layer\+At\+Ip@{Get\+Pseudo\+Layer\+At\+Ip}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Get\+Pseudo\+Layer\+At\+Ip}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Get\+Pseudo\+Layer\+At\+Ip (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_ad0890295610774a54f7d601f9e6d06f8}


Definition at line 156 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



References Get\+Pseudo\+Layer().


\begin{DoxyCode}
157 \{
158     \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} pseudoLayerAtIp(this->GetPseudoLayer(pandora::CartesianVector(0.f, 0.f, 0.f)));
159     \textcolor{keywordflow}{return} pseudoLayerAtIp;
160 \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Initialize}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Initialize (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_afbdeb6cf6cffd65ddf10191e27e11c98}


Definition at line 51 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



References Store\+Detector\+Outer\+Edge(), Store\+Layer\+Positions(), Store\+Overlap\+Correction\+Details(), and Store\+Polygon\+Angles().


\begin{DoxyCode}
52   \{
53     \textcolor{keywordflow}{try}
54     \{
55       this->StoreLayerPositions();
56       this->StoreDetectorOuterEdge();
57       this->StorePolygonAngles();
58       this->StoreOverlapCorrectionDetails();
59     \}
60     \textcolor{keywordflow}{catch} (pandora::StatusCodeException &statusCodeException)
61     \{
62       std::cout << \textcolor{stringliteral}{"ArborPseudoLayerPlugin: Incomplete geometry - consider using a different
       PseudoLayerCalculator."} << std::endl;
63       \textcolor{keywordflow}{return} statusCodeException.GetStatusCode();
64     \}
65 
66     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
67   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Read\+Settings@{Read\+Settings}}
\index{Read\+Settings@{Read\+Settings}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Read\+Settings}]{\setlength{\rightskip}{0pt plus 5cm}pandora\+::\+Status\+Code arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Read\+Settings (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Ti\+Xml\+Handle}]{xml\+Handle}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_adf9890704222fef9b47b6a8e399c41cf}


Definition at line 316 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



References m\+\_\+use\+Coordinate\+Corrections.


\begin{DoxyCode}
317   \{
318     m_useCoordinateCorrections = \textcolor{keyword}{false};
319     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(pandora::STATUS\_CODE\_SUCCESS, pandora::STATUS\_CODE\_NOT\_FOUND, !=, 
      pandora::XmlHelper::ReadValue(xmlHandle,
320         \textcolor{stringliteral}{"UseCoordinateCorrections"}, m_useCoordinateCorrections));
321 
322     \textcolor{keywordflow}{return} pandora::STATUS\_CODE\_SUCCESS;
323   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Store\+Detector\+Outer\+Edge@{Store\+Detector\+Outer\+Edge}}
\index{Store\+Detector\+Outer\+Edge@{Store\+Detector\+Outer\+Edge}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Store\+Detector\+Outer\+Edge}]{\setlength{\rightskip}{0pt plus 5cm}void arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Store\+Detector\+Outer\+Edge (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a5aba44e2427374655062da2aeba36874}


Store positions of barrel and endcap outer edges upon initialization. 



Definition at line 222 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



References m\+\_\+barrel\+Edge\+R, m\+\_\+barrel\+Layer\+Positions, m\+\_\+end\+Cap\+Edge\+Z, and m\+\_\+end\+Cap\+Layer\+Positions.



Referenced by Initialize().


\begin{DoxyCode}
223   \{
224     \textcolor{keyword}{const} pandora::GeometryManager *\textcolor{keyword}{const} pGeometryManager(this->GetPandora().GetGeometry());
225 
226     m_barrelEdgeR = (std::max(pGeometryManager->GetSubDetector(pandora::ECAL\_BARREL).GetOuterRCoordinate(),
       std::max(
227         pGeometryManager->GetSubDetector(pandora::HCAL\_BARREL).GetOuterRCoordinate(),
228         pGeometryManager->GetSubDetector(pandora::MUON\_BARREL).GetOuterRCoordinate()) ));
229 
230     m_endCapEdgeZ = (std::max(std::fabs(pGeometryManager->GetSubDetector(pandora::ECAL\_ENDCAP).
      GetOuterZCoordinate()), std::max(
231         std::fabs(pGeometryManager->GetSubDetector(pandora::HCAL\_ENDCAP).GetOuterZCoordinate()),
232         std::fabs(pGeometryManager->GetSubDetector(pandora::MUON\_ENDCAP).GetOuterZCoordinate())) ));
233 
234     \textcolor{keywordflow}{if} ((m_barrelLayerPositions.end() != std::upper\_bound(m_barrelLayerPositions.begin(), 
      m_barrelLayerPositions.end(), m_barrelEdgeR)) ||
235         (m_endCapLayerPositions.end() != std::upper\_bound(m_endCapLayerPositions.begin(), 
      m_endCapLayerPositions.end(), m_endCapEdgeZ)))
236     \{
237       std::cout << \textcolor{stringliteral}{"ArborPseudoLayerPlugin: Layers specified outside detector edge."} << std::endl;
238       \textcolor{keywordflow}{throw} pandora::StatusCodeException(pandora::STATUS\_CODE\_FAILURE);
239     \}
240 
241     m_barrelLayerPositions.push\_back(m_barrelEdgeR);
242     m_endCapLayerPositions.push\_back(m_endCapEdgeZ);
243   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Store\+Layer\+Positions@{Store\+Layer\+Positions}}
\index{Store\+Layer\+Positions@{Store\+Layer\+Positions}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Store\+Layer\+Positions}]{\setlength{\rightskip}{0pt plus 5cm}void arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Store\+Layer\+Positions (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a442b4c2fca49f1e7acfcc0293e82d5c7}


Store all revelevant barrel and endcap layer positions upon initialization. 



Definition at line 173 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



References m\+\_\+barrel\+Layer\+Positions, and m\+\_\+end\+Cap\+Layer\+Positions.



Referenced by Initialize().


\begin{DoxyCode}
174   \{
175     \textcolor{keyword}{const} pandora::GeometryManager *\textcolor{keyword}{const} pGeometryManager(this->GetPandora().GetGeometry());
176     this->StoreLayerPositions(pGeometryManager->GetSubDetector(pandora::ECAL\_BARREL), 
      m_barrelLayerPositions);
177     this->StoreLayerPositions(pGeometryManager->GetSubDetector(pandora::ECAL\_ENDCAP), 
      m_endCapLayerPositions);
178     this->StoreLayerPositions(pGeometryManager->GetSubDetector(pandora::HCAL\_BARREL), 
      m_barrelLayerPositions);
179     this->StoreLayerPositions(pGeometryManager->GetSubDetector(pandora::HCAL\_ENDCAP), 
      m_endCapLayerPositions);
180     this->StoreLayerPositions(pGeometryManager->GetSubDetector(pandora::MUON\_BARREL), 
      m_barrelLayerPositions);
181     this->StoreLayerPositions(pGeometryManager->GetSubDetector(pandora::MUON\_ENDCAP), 
      m_endCapLayerPositions);
182 
183     \textcolor{keywordflow}{if} (m_barrelLayerPositions.empty() || m_endCapLayerPositions.empty())
184     \{
185       std::cout << \textcolor{stringliteral}{"ArborPseudoLayerPlugin: No layer positions specified."} << std::endl;
186       \textcolor{keywordflow}{throw} pandora::StatusCodeException(pandora::STATUS\_CODE\_NOT\_INITIALIZED);
187     \}
188 
189     std::sort(m_barrelLayerPositions.begin(), m_barrelLayerPositions.end());
190     std::sort(m_endCapLayerPositions.begin(), m_endCapLayerPositions.end());
191 
192     LayerPositionList::const\_iterator barrelIter = std::unique(
      m_barrelLayerPositions.begin(), m_barrelLayerPositions.end());
193     LayerPositionList::const\_iterator endcapIter = std::unique(
      m_endCapLayerPositions.begin(), m_endCapLayerPositions.end());
194 
195     \textcolor{keywordflow}{if} ((m_barrelLayerPositions.end() != barrelIter) || (m_endCapLayerPositions.end() != endcapIter))
196     \{
197       std::cout << \textcolor{stringliteral}{"ArborPseudoLayerPlugin: Duplicate layer position detected."} << std::endl;
198       \textcolor{keywordflow}{throw} pandora::StatusCodeException(pandora::STATUS\_CODE\_FAILURE);
199     \}
200   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Store\+Layer\+Positions@{Store\+Layer\+Positions}}
\index{Store\+Layer\+Positions@{Store\+Layer\+Positions}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Store\+Layer\+Positions}]{\setlength{\rightskip}{0pt plus 5cm}void arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Store\+Layer\+Positions (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Sub\+Detector \&}]{sub\+Detector, }
\item[{{\bf Layer\+Position\+List} \&}]{Layer\+Position\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_acfc509bd46a9070b26284b0be9657348}


Store subdetector layer positions upon initialization. 


\begin{DoxyParams}{Parameters}
{\em sub\+Detector} & the sub detector \\
\hline
{\em layer\+Parameters\+List} & the layer parameters list \\
\hline
\end{DoxyParams}


Definition at line 204 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.


\begin{DoxyCode}
205   \{
206     \textcolor{keywordflow}{if} (!subDetector.IsMirroredInZ())
207     \{
208       std::cout << \textcolor{stringliteral}{"ArborPseudoLayerPlugin: Error, detector must be symmetrical about z=0 plane."} << 
      std::endl;
209       \textcolor{keywordflow}{throw} pandora::StatusCodeException(pandora::STATUS\_CODE\_INVALID\_PARAMETER);
210     \}
211 
212     \textcolor{keyword}{const} pandora::SubDetector::SubDetectorLayerList &subDetectorLayerList(subDetector.
      GetSubDetectorLayerList());
213 
214     \textcolor{keywordflow}{for} (pandora::SubDetector::SubDetectorLayerList::const\_iterator iter = subDetectorLayerList.begin(), 
      iterEnd = subDetectorLayerList.end(); iter != iterEnd; ++iter)
215     \{
216       layerPositionList.push\_back(iter->GetClosestDistanceToIp());
217     \}
218   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Store\+Overlap\+Correction\+Details@{Store\+Overlap\+Correction\+Details}}
\index{Store\+Overlap\+Correction\+Details@{Store\+Overlap\+Correction\+Details}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Store\+Overlap\+Correction\+Details}]{\setlength{\rightskip}{0pt plus 5cm}void arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Store\+Overlap\+Correction\+Details (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a8e0d8b7b97cf5371f86c3df23b6f5ba4}


Store all details revelevant to barrel/endcap overlap corrections upon initialization. 



Definition at line 260 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



References m\+\_\+barrel\+Inner\+R, m\+\_\+barrel\+Inner\+R\+Muon, m\+\_\+end\+Cap\+Inner\+Z, m\+\_\+end\+Cap\+Inner\+Z\+Muon, m\+\_\+r\+Correction, m\+\_\+r\+Correction\+Muon, m\+\_\+z\+Correction, and m\+\_\+z\+Correction\+Muon.



Referenced by Initialize().


\begin{DoxyCode}
261   \{
262     \textcolor{keyword}{const} pandora::GeometryManager *\textcolor{keyword}{const} pGeometryManager(this->GetPandora().GetGeometry());
263 
264     m_barrelInnerR = pGeometryManager->GetSubDetector(pandora::ECAL\_BARREL).GetInnerRCoordinate();
265     m_endCapInnerZ = std::fabs(pGeometryManager->GetSubDetector(pandora::ECAL\_ENDCAP).GetInnerZCoordinate()
      );
266     m_barrelInnerRMuon = pGeometryManager->GetSubDetector(pandora::MUON\_BARREL).GetInnerRCoordinate();
267     m_endCapInnerZMuon = std::fabs(pGeometryManager->GetSubDetector(pandora::MUON\_ENDCAP).
      GetInnerZCoordinate());
268 
269     \textcolor{keyword}{const} \textcolor{keywordtype}{float} barrelOuterZ = std::fabs(pGeometryManager->GetSubDetector(pandora::ECAL\_BARREL).
      GetOuterZCoordinate());
270     \textcolor{keyword}{const} \textcolor{keywordtype}{float} endCapOuterR = pGeometryManager->GetSubDetector(pandora::ECAL\_ENDCAP).GetOuterRCoordinate()
      ;
271     \textcolor{keyword}{const} \textcolor{keywordtype}{float} barrelOuterZMuon = std::fabs(pGeometryManager->GetSubDetector(pandora::MUON\_BARREL).
      GetOuterZCoordinate());
272     \textcolor{keyword}{const} \textcolor{keywordtype}{float} endCapOuterRMuon = pGeometryManager->GetSubDetector(pandora::MUON\_ENDCAP).
      GetOuterRCoordinate();
273 
274     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} IsEnclosingEndCap(endCapOuterR > m_barrelInnerR); \textcolor{comment}{// true for ILD !}
275     m_rCorrection = ((!IsEnclosingEndCap) ? 0.f : m_barrelInnerR * ((
      m_endCapInnerZ / barrelOuterZ) - 1.f));
276     m_zCorrection = ((IsEnclosingEndCap) ? 0.f : m_endCapInnerZ * ((
      m_barrelInnerR / endCapOuterR) - 1.f));
277     m_rCorrectionMuon = ((!IsEnclosingEndCap) ? 0.f : m\_barrelInnerRMuon * ((
      m_endCapInnerZMuon / barrelOuterZMuon) - 1.f));
278     m_zCorrectionMuon = ((IsEnclosingEndCap) ? 0.f : m_endCapInnerZMuon * ((m\_barrelInnerRMuon / 
      endCapOuterRMuon) - 1.f));
279   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!Store\+Polygon\+Angles@{Store\+Polygon\+Angles}}
\index{Store\+Polygon\+Angles@{Store\+Polygon\+Angles}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{Store\+Polygon\+Angles}]{\setlength{\rightskip}{0pt plus 5cm}void arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::\+Store\+Polygon\+Angles (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a1d4534cd29392b41debaa0fdab2f8457}


Store sine and cosine of angles used to project hit positions onto polygonal calorimeter surfaces upon initialization. 



Definition at line 247 of file Arbor\+Pseudo\+Layer\+Plugin.\+cc.



References Fill\+Angle\+Vector(), m\+\_\+e\+Cal\+Barrel\+Angle\+Vector, and m\+\_\+muon\+Barrel\+Angle\+Vector.



Referenced by Initialize().


\begin{DoxyCode}
248   \{
249     \textcolor{keyword}{const} pandora::GeometryManager *\textcolor{keyword}{const} pGeometryManager(this->GetPandora().GetGeometry());
250 
251     this->FillAngleVector(pGeometryManager->GetSubDetector(pandora::ECAL\_BARREL).GetInnerSymmetryOrder(),
252         pGeometryManager->GetSubDetector(pandora::ECAL\_BARREL).GetInnerPhiCoordinate(), 
      m_eCalBarrelAngleVector);
253 
254     this->FillAngleVector(pGeometryManager->GetSubDetector(pandora::MUON\_BARREL).GetInnerSymmetryOrder(),
255         pGeometryManager->GetSubDetector(pandora::MUON\_BARREL).GetInnerPhiCoordinate(), 
      m_muonBarrelAngleVector);
256   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+barrel\+Edge\+R@{m\+\_\+barrel\+Edge\+R}}
\index{m\+\_\+barrel\+Edge\+R@{m\+\_\+barrel\+Edge\+R}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+barrel\+Edge\+R}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+barrel\+Edge\+R\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a3b56ab025d17b79d7670e98a7b85c3ee}


Extremal barrel r coordinate. 



Definition at line 148 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Detector\+Outer\+Edge().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+barrel\+Inner\+R@{m\+\_\+barrel\+Inner\+R}}
\index{m\+\_\+barrel\+Inner\+R@{m\+\_\+barrel\+Inner\+R}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+barrel\+Inner\+R}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+barrel\+Inner\+R\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a1e446c7aa5ce7598fe019e9324df05ee}


Barrel inner radius. 



Definition at line 138 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Overlap\+Correction\+Details().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+barrel\+Inner\+R\+Muon@{m\+\_\+barrel\+Inner\+R\+Muon}}
\index{m\+\_\+barrel\+Inner\+R\+Muon@{m\+\_\+barrel\+Inner\+R\+Muon}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+barrel\+Inner\+R\+Muon}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+barrel\+Inner\+R\+Muon\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_ae84b6e69ccd643ee8a91ad2639509ee6}


Muon barrel inner radius. 



Definition at line 140 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Overlap\+Correction\+Details().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+barrel\+Layer\+Positions@{m\+\_\+barrel\+Layer\+Positions}}
\index{m\+\_\+barrel\+Layer\+Positions@{m\+\_\+barrel\+Layer\+Positions}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+barrel\+Layer\+Positions}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Layer\+Position\+List} arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+barrel\+Layer\+Positions\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a5aaecd5a2a184fad4b0984a4a2276dcf}


List of barrel layer positions. 



Definition at line 133 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), Store\+Detector\+Outer\+Edge(), and Store\+Layer\+Positions().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+e\+Cal\+Barrel\+Angle\+Vector@{m\+\_\+e\+Cal\+Barrel\+Angle\+Vector}}
\index{m\+\_\+e\+Cal\+Barrel\+Angle\+Vector@{m\+\_\+e\+Cal\+Barrel\+Angle\+Vector}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+e\+Cal\+Barrel\+Angle\+Vector}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Angle\+Vector} arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+e\+Cal\+Barrel\+Angle\+Vector\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_ac3082e13c29aa1c791e182ff3f0f8fac}


The ecal barrel angle vector. 



Definition at line 135 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Polygon\+Angles().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+end\+Cap\+Edge\+Z@{m\+\_\+end\+Cap\+Edge\+Z}}
\index{m\+\_\+end\+Cap\+Edge\+Z@{m\+\_\+end\+Cap\+Edge\+Z}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+end\+Cap\+Edge\+Z}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+end\+Cap\+Edge\+Z\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a2894841029cc43b6eb65cf5b3887b83a}


Extremal endcap z coordinate. 



Definition at line 149 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Detector\+Outer\+Edge().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+end\+Cap\+Inner\+Z@{m\+\_\+end\+Cap\+Inner\+Z}}
\index{m\+\_\+end\+Cap\+Inner\+Z@{m\+\_\+end\+Cap\+Inner\+Z}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+end\+Cap\+Inner\+Z}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+end\+Cap\+Inner\+Z\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_aea3682a88779677094499d17bca1659c}


Endcap inner z position. 



Definition at line 139 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Overlap\+Correction\+Details().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+end\+Cap\+Inner\+Z\+Muon@{m\+\_\+end\+Cap\+Inner\+Z\+Muon}}
\index{m\+\_\+end\+Cap\+Inner\+Z\+Muon@{m\+\_\+end\+Cap\+Inner\+Z\+Muon}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+end\+Cap\+Inner\+Z\+Muon}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+end\+Cap\+Inner\+Z\+Muon\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_aa1bd860b752a97a78f7ee3ef2c4667d3}


Muon endcap inner z position. 



Definition at line 141 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Overlap\+Correction\+Details().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+end\+Cap\+Layer\+Positions@{m\+\_\+end\+Cap\+Layer\+Positions}}
\index{m\+\_\+end\+Cap\+Layer\+Positions@{m\+\_\+end\+Cap\+Layer\+Positions}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+end\+Cap\+Layer\+Positions}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Layer\+Position\+List} arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+end\+Cap\+Layer\+Positions\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a15fda2795215108a4fceb636aac020c9}


List of endcap layer positions. 



Definition at line 134 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), Store\+Detector\+Outer\+Edge(), and Store\+Layer\+Positions().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+muon\+Barrel\+Angle\+Vector@{m\+\_\+muon\+Barrel\+Angle\+Vector}}
\index{m\+\_\+muon\+Barrel\+Angle\+Vector@{m\+\_\+muon\+Barrel\+Angle\+Vector}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+muon\+Barrel\+Angle\+Vector}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Angle\+Vector} arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+muon\+Barrel\+Angle\+Vector\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_aea354a01870632c9da73270e24c93b63}


The muon barrel angle vector. 



Definition at line 136 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Polygon\+Angles().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+r\+Correction@{m\+\_\+r\+Correction}}
\index{m\+\_\+r\+Correction@{m\+\_\+r\+Correction}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+r\+Correction}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+r\+Correction\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a8aea9d0f69a5c1bcdc7c968a5d91c87f}


Barrel/endcap overlap r correction. 



Definition at line 143 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Overlap\+Correction\+Details().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+r\+Correction\+Muon@{m\+\_\+r\+Correction\+Muon}}
\index{m\+\_\+r\+Correction\+Muon@{m\+\_\+r\+Correction\+Muon}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+r\+Correction\+Muon}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+r\+Correction\+Muon\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_aa98cc69272f6a549c5506a868da9734a}


Muon barrel/endcap overlap r correction. 



Definition at line 145 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Overlap\+Correction\+Details().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+use\+Coordinate\+Corrections@{m\+\_\+use\+Coordinate\+Corrections}}
\index{m\+\_\+use\+Coordinate\+Corrections@{m\+\_\+use\+Coordinate\+Corrections}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+use\+Coordinate\+Corrections}]{\setlength{\rightskip}{0pt plus 5cm}bool arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+use\+Coordinate\+Corrections\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a47591a93c3d21b1a858bd1f982690805}


Whether to use coordinate correction in intermediate regions. 



Definition at line 151 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Read\+Settings().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+z\+Correction@{m\+\_\+z\+Correction}}
\index{m\+\_\+z\+Correction@{m\+\_\+z\+Correction}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+z\+Correction}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+z\+Correction\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a28a75c70a8607ee64d17772eeaf8edb7}


Barrel/endcap overlap z correction. 



Definition at line 144 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Overlap\+Correction\+Details().

\index{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}!m\+\_\+z\+Correction\+Muon@{m\+\_\+z\+Correction\+Muon}}
\index{m\+\_\+z\+Correction\+Muon@{m\+\_\+z\+Correction\+Muon}!arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin@{arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin}}
\subsubsection[{m\+\_\+z\+Correction\+Muon}]{\setlength{\rightskip}{0pt plus 5cm}float arbor\+\_\+content\+::\+Arbor\+Pseudo\+Layer\+Plugin\+::m\+\_\+z\+Correction\+Muon\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ArborPseudoLayerPlugin_a17d621e149e2408dd2250b57dd12ece1}


Muon barrel/endcap overlap z correction. 



Definition at line 146 of file Arbor\+Pseudo\+Layer\+Plugin.\+h.



Referenced by Get\+Pseudo\+Layer(), and Store\+Overlap\+Correction\+Details().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
{\bf Arbor\+Pseudo\+Layer\+Plugin.\+h}\item 
{\bf Arbor\+Pseudo\+Layer\+Plugin.\+cc}\end{DoxyCompactItemize}
