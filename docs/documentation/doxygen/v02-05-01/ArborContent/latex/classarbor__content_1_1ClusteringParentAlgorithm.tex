\section{arbor\+\_\+content\+:\+:Clustering\+Parent\+Algorithm Class Reference}
\label{classarbor__content_1_1ClusteringParentAlgorithm}\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}


\doxyref{Clustering\+Parent\+Algorithm}{p.}{classarbor__content_1_1ClusteringParentAlgorithm} class.  




{\ttfamily \#include $<$Clustering\+Parent\+Algorithm.\+h$>$}

Inheritance diagram for arbor\+\_\+content\+:\+:Clustering\+Parent\+Algorithm\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classarbor__content_1_1ClusteringParentAlgorithm}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class {\bf Factory}
\begin{DoxyCompactList}\small\item\em \doxyref{Factory}{p.}{classarbor__content_1_1ClusteringParentAlgorithm_1_1Factory} class for instantiating algorithm. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Clustering\+Parent\+Algorithm} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
pandora\+::\+Status\+Code {\bf Run} ()
\item 
pandora\+::\+Status\+Code {\bf Read\+Settings} (const pandora\+::\+Ti\+Xml\+Handle xml\+Handle)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string {\bf m\+\_\+clustering\+Algorithm\+Name}
\begin{DoxyCompactList}\small\item\em The name of the clustering algorithm to run. \end{DoxyCompactList}\item 
std\+::string {\bf m\+\_\+association\+Algorithm\+Name}
\begin{DoxyCompactList}\small\item\em The name of the topological association algorithm to run. \end{DoxyCompactList}\item 
std\+::string {\bf m\+\_\+input\+Calo\+Hit\+List\+Name}
\begin{DoxyCompactList}\small\item\em The name of the input calo hit list, containing the hits to be clustered. \end{DoxyCompactList}\item 
bool {\bf m\+\_\+restore\+Original\+Calo\+Hit\+List}
\begin{DoxyCompactList}\small\item\em Whether to restore the original calo hit list as the \char`\"{}current\char`\"{} list upon completion. \end{DoxyCompactList}\item 
std\+::string {\bf m\+\_\+cluster\+List\+Name}
\begin{DoxyCompactList}\small\item\em The name under which to save the new cluster list. \end{DoxyCompactList}\item 
bool {\bf m\+\_\+replace\+Current\+Cluster\+List}
\begin{DoxyCompactList}\small\item\em Whether to subsequently use the new cluster list as the \char`\"{}current\char`\"{} list. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{Clustering\+Parent\+Algorithm}{p.}{classarbor__content_1_1ClusteringParentAlgorithm} class. 

Definition at line 39 of file Clustering\+Parent\+Algorithm.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!Clustering\+Parent\+Algorithm@{Clustering\+Parent\+Algorithm}}
\index{Clustering\+Parent\+Algorithm@{Clustering\+Parent\+Algorithm}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{Clustering\+Parent\+Algorithm}]{\setlength{\rightskip}{0pt plus 5cm}arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::\+Clustering\+Parent\+Algorithm (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classarbor__content_1_1ClusteringParentAlgorithm_a1ab5c0549007dea2c6f36b02464c4f51}


Default constructor. 



Definition at line 36 of file Clustering\+Parent\+Algorithm.\+cc.



Referenced by arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::\+Factory\+::\+Create\+Algorithm().


\begin{DoxyCode}
36                                                        :
37         m_restoreOriginalCaloHitList(\textcolor{keyword}{false}),
38         m_replaceCurrentClusterList(\textcolor{keyword}{true})
39   \{
40   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!Read\+Settings@{Read\+Settings}}
\index{Read\+Settings@{Read\+Settings}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{Read\+Settings}]{\setlength{\rightskip}{0pt plus 5cm}Status\+Code arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::\+Read\+Settings (
\begin{DoxyParamCaption}
\item[{const pandora\+::\+Ti\+Xml\+Handle}]{xml\+Handle}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ClusteringParentAlgorithm_ad534f8bb167b438ddc8bcebe21fa234e}


Definition at line 85 of file Clustering\+Parent\+Algorithm.\+cc.



References m\+\_\+association\+Algorithm\+Name, m\+\_\+clustering\+Algorithm\+Name, m\+\_\+cluster\+List\+Name, m\+\_\+input\+Calo\+Hit\+List\+Name, m\+\_\+replace\+Current\+Cluster\+List, and m\+\_\+restore\+Original\+Calo\+Hit\+List.


\begin{DoxyCode}
86   \{
87     \textcolor{comment}{// Daughter algorithm parameters}
88     PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, XmlHelper::ProcessAlgorithm(*\textcolor{keyword}{this}, xmlHandle,
89         \textcolor{stringliteral}{"ClusterFormation"}, m_clusteringAlgorithmName));
90 
91     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(STATUS\_CODE\_SUCCESS, STATUS\_CODE\_NOT\_FOUND, !=, 
      XmlHelper::ProcessAlgorithm(*\textcolor{keyword}{this}, xmlHandle,
92         \textcolor{stringliteral}{"ClusterAssociation"}, m_associationAlgorithmName));
93 
94     \textcolor{comment}{// Input parameters: name of input calo hit list and whether it should persist as the current list
       after algorithm has finished}
95     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(STATUS\_CODE\_SUCCESS, STATUS\_CODE\_NOT\_FOUND, !=, XmlHelper::ReadValue(
      xmlHandle,
96         \textcolor{stringliteral}{"InputCaloHitListName"}, m_inputCaloHitListName));
97 
98     m_restoreOriginalCaloHitList = !m_inputCaloHitListName.empty();
99     PANDORA\_RETURN\_RESULT\_IF\_AND\_IF(STATUS\_CODE\_SUCCESS, STATUS\_CODE\_NOT\_FOUND, !=, XmlHelper::ReadValue(
      xmlHandle,
100         \textcolor{stringliteral}{"RestoreOriginalCaloHitList"}, m_restoreOriginalCaloHitList));
101 
102     \textcolor{comment}{// Output parameters: name of output cluster list and whether it should subsequently be used as the
       current list}
103     PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle,
104         \textcolor{stringliteral}{"ClusterListName"}, m_clusterListName));
105 
106     PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, XmlHelper::ReadValue(xmlHandle,
107         \textcolor{stringliteral}{"ReplaceCurrentClusterList"}, m_replaceCurrentClusterList));
108 
109     \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
110   \}
\end{DoxyCode}
\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!Run@{Run}}
\index{Run@{Run}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{Run}]{\setlength{\rightskip}{0pt plus 5cm}Status\+Code arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::\+Run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ClusteringParentAlgorithm_a0698745f0a67326ec9649b8816fe2b3a}


Definition at line 44 of file Clustering\+Parent\+Algorithm.\+cc.



References m\+\_\+association\+Algorithm\+Name, m\+\_\+clustering\+Algorithm\+Name, m\+\_\+cluster\+List\+Name, m\+\_\+input\+Calo\+Hit\+List\+Name, m\+\_\+replace\+Current\+Cluster\+List, and m\+\_\+restore\+Original\+Calo\+Hit\+List.


\begin{DoxyCode}
45   \{
46     \textcolor{comment}{// If specified, change the current calo hit list, i.e. the input to the clustering algorithm}
47     std::string originalCaloHitListName;
48 
49     \textcolor{keywordflow}{if} (!m_inputCaloHitListName.empty())
50     \{
51       PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::GetCurrentListName<CaloHit>(*\textcolor{keyword}{
      this}, originalCaloHitListName));
52       PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::ReplaceCurrentList<CaloHit>(*\textcolor{keyword}{
      this}, m_inputCaloHitListName));
53     \}
54 
55     \textcolor{comment}{// Run the initial cluster formation algorithm}
56     \textcolor{keyword}{const} ClusterList *pClusterList = NULL;
57     std::string newClusterListName;
58     PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::RunClusteringAlgorithm(*\textcolor{keyword}{this}, 
      m_clusteringAlgorithmName,
59         pClusterList, newClusterListName));
60 
61     \textcolor{comment}{// Run the topological association algorithms to modify clusters}
62     \textcolor{keywordflow}{if} (!pClusterList->empty() && !m_associationAlgorithmName.empty())
63       PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::RunDaughterAlgorithm(*\textcolor{keyword}{this}, 
      m_associationAlgorithmName));
64 
65     \textcolor{comment}{// Save the new cluster list}
66     \textcolor{keywordflow}{if} (!pClusterList->empty())
67     \{
68       PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::SaveList<Cluster>(*\textcolor{keyword}{this}, 
      m_clusterListName));
69 
70       \textcolor{keywordflow}{if} (m_replaceCurrentClusterList)
71         PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::ReplaceCurrentList<Cluster>(*\textcolor{keyword}{
      this}, m_clusterListName));
72     \}
73 
74     \textcolor{comment}{// Unless specified, return current calo hit list to that when algorithm started}
75     \textcolor{keywordflow}{if} (m_restoreOriginalCaloHitList && !m_inputCaloHitListName.empty())
76     \{
77       PANDORA\_RETURN\_RESULT\_IF(STATUS\_CODE\_SUCCESS, !=, PandoraContentApi::ReplaceCurrentList<CaloHit>(*\textcolor{keyword}{
      this}, originalCaloHitListName));
78     \}
79 
80     \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
81   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!m\+\_\+association\+Algorithm\+Name@{m\+\_\+association\+Algorithm\+Name}}
\index{m\+\_\+association\+Algorithm\+Name@{m\+\_\+association\+Algorithm\+Name}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{m\+\_\+association\+Algorithm\+Name}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::m\+\_\+association\+Algorithm\+Name\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ClusteringParentAlgorithm_aaba3154ac7f79ba819f6d13f12e59769}


The name of the topological association algorithm to run. 



Definition at line 61 of file Clustering\+Parent\+Algorithm.\+h.



Referenced by Read\+Settings(), and Run().

\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!m\+\_\+clustering\+Algorithm\+Name@{m\+\_\+clustering\+Algorithm\+Name}}
\index{m\+\_\+clustering\+Algorithm\+Name@{m\+\_\+clustering\+Algorithm\+Name}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{m\+\_\+clustering\+Algorithm\+Name}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::m\+\_\+clustering\+Algorithm\+Name\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ClusteringParentAlgorithm_ac03406c216630ec814555a565368e6ae}


The name of the clustering algorithm to run. 



Definition at line 60 of file Clustering\+Parent\+Algorithm.\+h.



Referenced by Read\+Settings(), and Run().

\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!m\+\_\+cluster\+List\+Name@{m\+\_\+cluster\+List\+Name}}
\index{m\+\_\+cluster\+List\+Name@{m\+\_\+cluster\+List\+Name}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{m\+\_\+cluster\+List\+Name}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::m\+\_\+cluster\+List\+Name\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ClusteringParentAlgorithm_ac0c3af68af43f02535c06128f14dce1f}


The name under which to save the new cluster list. 



Definition at line 66 of file Clustering\+Parent\+Algorithm.\+h.



Referenced by Read\+Settings(), and Run().

\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!m\+\_\+input\+Calo\+Hit\+List\+Name@{m\+\_\+input\+Calo\+Hit\+List\+Name}}
\index{m\+\_\+input\+Calo\+Hit\+List\+Name@{m\+\_\+input\+Calo\+Hit\+List\+Name}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{m\+\_\+input\+Calo\+Hit\+List\+Name}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::m\+\_\+input\+Calo\+Hit\+List\+Name\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ClusteringParentAlgorithm_aa234bc8f3728052d469f809c1e1f5a94}


The name of the input calo hit list, containing the hits to be clustered. 



Definition at line 63 of file Clustering\+Parent\+Algorithm.\+h.



Referenced by Read\+Settings(), and Run().

\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!m\+\_\+replace\+Current\+Cluster\+List@{m\+\_\+replace\+Current\+Cluster\+List}}
\index{m\+\_\+replace\+Current\+Cluster\+List@{m\+\_\+replace\+Current\+Cluster\+List}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{m\+\_\+replace\+Current\+Cluster\+List}]{\setlength{\rightskip}{0pt plus 5cm}bool arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::m\+\_\+replace\+Current\+Cluster\+List\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ClusteringParentAlgorithm_ae67e5ce898cfe6f21902f10f52ac77c5}


Whether to subsequently use the new cluster list as the \char`\"{}current\char`\"{} list. 



Definition at line 67 of file Clustering\+Parent\+Algorithm.\+h.



Referenced by Read\+Settings(), and Run().

\index{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}!m\+\_\+restore\+Original\+Calo\+Hit\+List@{m\+\_\+restore\+Original\+Calo\+Hit\+List}}
\index{m\+\_\+restore\+Original\+Calo\+Hit\+List@{m\+\_\+restore\+Original\+Calo\+Hit\+List}!arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm@{arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm}}
\subsubsection[{m\+\_\+restore\+Original\+Calo\+Hit\+List}]{\setlength{\rightskip}{0pt plus 5cm}bool arbor\+\_\+content\+::\+Clustering\+Parent\+Algorithm\+::m\+\_\+restore\+Original\+Calo\+Hit\+List\hspace{0.3cm}{\ttfamily [private]}}\label{classarbor__content_1_1ClusteringParentAlgorithm_aff8987b8add13e2c347906212b979c80}


Whether to restore the original calo hit list as the \char`\"{}current\char`\"{} list upon completion. 



Definition at line 64 of file Clustering\+Parent\+Algorithm.\+h.



Referenced by Read\+Settings(), and Run().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
{\bf Clustering\+Parent\+Algorithm.\+h}\item 
{\bf Clustering\+Parent\+Algorithm.\+cc}\end{DoxyCompactItemize}
